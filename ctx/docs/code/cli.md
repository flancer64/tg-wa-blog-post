# CLI Contract

Path: `./ctx/docs/code/cli.md`

## Назначение

Документ фиксирует инженерный контракт CLI-интерфейса Telegram Translation Publisher. Уровень определяет допустимую форму взаимодействия через командную строку и запрещает расширение CLI-модели за пределы текущего продукта.

## Общая модель

CLI Telegram Translation Publisher предоставляет ровно один режим исполнения — запуск репликационного цикла.

CLI не реализует:

- дерево команд;
- диспетчеризацию;
- множественные режимы выполнения;
- режим dry-run;
- диагностические режимы;
- healthcheck-режим;
- version-режим.

Один запуск CLI соответствует одному прикладному циклу обработки.

## Аргументы командной строки

Bootstrap передаёт в `App.run()` массив аргументов `process.argv.slice(2)` без интерпретации.

CLI не выполняет разбор аргументов на уровне bootstrap.

В текущей форме системы допускается только один аргумент:

```txt
--help
```

Все прочие аргументы игнорируются и не влияют на выполнение прикладного цикла.

## Поведение `--help`

При наличии аргумента `--help` приложение может вывести краткую информацию о назначении CLI и завершиться с кодом `0`.

`--help` не активирует прикладной цикл репликации.

## Логирование и уровень детализации

CLI не предоставляет флагов управления логированием (`--verbose`, `--debug` и т.п.). Уровень логирования определяется конфигурацией и не зависит от аргументов командной строки.

## Статус интерфейса

CLI является внутренним инструментом владельца продукта. Совместимость CLI API не гарантируется. CLI не рассматривается как публичный программный интерфейс.

## Расширение CLI

Если в будущем потребуется добавить:

- тестовый режим;
- режим миграции;
- режим архивации;

расширение допускается в рамках данного CLI, без введения отдельного entrypoint или диспетчерного слоя.

## Итог

CLI Telegram Translation Publisher представляет собой минимальный внутренний интерфейс запуска, предназначенный исключительно для выполнения одного прикладного цикла репликации. Он не поддерживает множественные режимы исполнения, не предоставляет механизмов диспетчеризации и не влияет на архитектурную форму системы.
