# Configuration Structure

Path: `./ctx/docs/code/configuration/structure.md`

## Назначение

Документ фиксирует структуру конфигурационного объекта Telegram Translation Publisher. Уровень определяет форму данных, доступных прикладному коду, без описания механизма их загрузки.

## Общая форма

Конфигурация представляет собой структурированный immutable-объект.

Рекомендуемая структура:

```txt
telegram:
    token
    chatId:
        ru
        en
        es
llm:
    apiKey
```

Допускается эквивалентная вложенная форма, если она сохраняет семантическую группировку параметров.

## Имена полей

Имена полей конфигурации не обязаны совпадать с именами переменных окружения.

Структура конфигурации является внутренней моделью приложения и независима от формата внешнего окружения.

## Типизация

Все значения конфигурации представляются строками.

Приведение типов (например, преобразование `chatId` в число) не выполняется на уровне структуры конфигурации.

## Обязательность полей

Все поля конфигурации являются обязательными.

Отсутствие любого обязательного значения рассматривается как ошибка конфигурации на уровне поведения (описано в `configuration.md`).

## Валидация

Структура конфигурации не выполняет сложной типовой или семантической валидации. Значения рассматриваются как строки.

## Иммутабельность

Объект конфигурации является immutable.

Мутация конфигурации в рантайме запрещена.

## Расширяемость

Допускается добавление новых разделов и полей в будущем при сохранении структурированного подхода.

Изменения структуры не должны нарушать существующий прикладной код без явной модификации соответствующих зависимостей.

## Разделение ответственности

Конфигурация не знает о `.env`, `process.env` или других источниках данных.

Загрузка и нормализация значений из окружения выполняется отдельным компонентом (Configuration Loader), который передаёт готовый набор значений в конфигурационный объект.

## Итог

Configuration Structure Telegram Translation Publisher определяет минимальную, структурированную и неизменяемую модель параметров, используемую прикладным кодом. Структура отделена от источника данных и не выполняет преобразований типов или побочных действий.
