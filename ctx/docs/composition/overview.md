# Прикладная композиция выполнения

Path: `./ctx/docs/composition/overview.md`

## Назначение уровня

Документ фиксирует прикладную сборку run-cycle: какие фазы образуют одно выполнение и как связаны точки завершения.

## Модель CLI-запуска

Система имеет один CLI-запуск без режимов и диспетчеризации. Один запуск содержит не более одного run-cycle и обрабатывает не более одной ru-публикации.

## Фазовая композиция run-cycle

Run-cycle включает: получение последнего ru-сообщения, проверку существования агрегата по `ru_message_id`, выполнение веток en и es (перевод и публикация), формирование агрегата и атомарную фиксацию агрегата.

## Точки завершения

Если ru-сообщение отсутствует или агрегат уже существует, run-cycle завершается без побочных действий с `exitCode = 0`. Ошибка выполнения любой фазы завершает запуск с `exitCode = 1`.

## Статус агрегата

Статус агрегата бинарный: `success` при успешной публикации в обоих целевых каналах; любой иной итог фиксируется как `failure`.

## Итог

Композиционный уровень задаёт целостную фазовую сборку одного run-cycle без описания формата хранения, DI-механики и инфраструктурных параметров среды.
