# Когнитивный слой проекта

- Path: `./ctx/AGENTS.md`
- Version: `20251227`

## Назначение

Каталог `ctx/` служит декларативным ядром когнитивного слоя проекта. Он синхронизирует организационные инструкции агента и проектную документацию, фиксирует общие инварианты роли агента и определяет две согласованные ветви контекста: `agent/`, отвечающую за поведение и отчётность агента, и `docs/`, аккумулирующую архитектуру, ограничения, инженерные правила и смысл продукта. Обе ветви наследуют контекст этого уровня, работают в рамках единых критериев качества ADSM и не перекрывают друг друга.

## Карта уровня

- `agent/` — операционный уровень: локальные инструкции, отчётность и режимы взаимодействия агента, определённые в `ctx/agent/AGENTS.md`.
- `docs/` — ветвь проектной документации: ядро архитектуры, кода, композиции, ограничений среды и продуктовых описаний, определённых в `ctx/docs/AGENTS.md`.
- `AGENTS.md` — текущий документ, объявляющий структуру `ctx/` и обеспечивающий точку входа в контекст.

## Структура и связи

Внутри `ctx/` сосуществуют два пространства контекста: организационное (то, как агент работает) и декларативное (то, как описан проект). Ветвь `agent/` фиксирует и контролирует взаимодействие с человеком, проверяет изменения на соответствие инвариантам и ведёт отчётность в рамках `ctx/agent/AGENTS.md`. Ветвь `docs/` отвечает за описание смыслов, архитектуры и инженерных норм так, чтобы они могли воспроизводиться в кодовом слое без конфликтов.

Между ветвями действует прозрачная граница:  
`agent/` не содержит продуктовых или архитектурных описаний,  
`docs/` не дублирует организационные режимы и отчёты.

Обе ветви дополняют общее наследование гарантиями, зафиксированными на уровне `ctx/`.

## Принцип иерархии контекстов

Исходный контекст для работы на уровне `ctx/` определяется документами на пути от корневого `AGENTS.md` к текущему пространству. При переходе в `ctx/docs/` агент учитывает сначала декларации этого файла, затем `ctx/docs/AGENTS.md`, и только после этого — локальные инструкции. Подкаталоги могут ссылаться на вышележащие уровни и друг на друга, но не выходят за границы, определённые текущим `AGENTS.md`.

## Критерии качества документации ADSM

Документы уровня `ctx/` формируются в соответствии с восемью критериями качества ADSM.

### 1. Декларативность

Документ фиксирует свойства, границы и инварианты уровня. Он описывает **что истинно в модели**, а не процедуры, инструкции или последовательности действий.

### 2. Полнота

Отражены назначение, границы, связи и обязательные инварианты. Отсутствуют смысловые пробелы, требующие домысливания.

### 3. Непротиворечивость

Утверждения согласованы внутри уровня и с вышестоящими декларациями. Исключены конфликтующие определения и пересечения.

### 4. Связность

Элементы документа образуют цельную структуру. Определения, границы и выводы выстраиваются в единый контекст.

### 5. Плотность

Каждый фрагмент вносит самостоятельное знание. Исключено дублирование, пустые и расплывчатые формулировки.

### 6. Компактность

Сущность изложена минимальными средствами без потери точности. Документ не перегружён второстепенными деталями.

### 7. Неизбыточность

Документ не повторяет утверждений, зафиксированных на других уровнях. Каждый слой несёт только то, что относится к его границам.

### 8. Отсутствие описаний очевидного

Не фиксируются свойства, автоматически следующие из стандартного поведения технологий, если они не являются инвариантами уровня. Закрепляется только то, что требует явного описания.

## Требования

Каждый документ в каталоге `ctx/` обязан указывать свой путь сразу после заголовка:

```md
Path: `./ctx/.../doc-name.md`
```

Обновления в ветви `docs/` должны сохранять декларативный стиль, соблюдать критерии качества ADSM и границы между ветвями `agent/` и `docs/`.

## Итог

`ctx/AGENTS.md` определяет структуру когнитивного пространства проекта и координирует ветви `agent/` и `docs/`, обеспечивая согласованное и непересекающееся описание организационных и продуктовых знаний.
