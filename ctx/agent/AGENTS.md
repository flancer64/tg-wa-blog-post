# Обзор поведения агента

- Path: `ctx/agent/AGENTS.md`
- Version: `20251218`

## Назначение

Документ определяет роль и поведение агента в рамках проекта. Он фиксирует границы ответственности, режимы взаимодействия с когнитивным и кодовым слоями, а также порядок ведения отчётности. Агент опирается на принципы, зафиксированные в корневом `AGENTS.md`, и конкретизирует, как именно он действует внутри данной ветви контекста.

## Карта уровня

- `report/` — отчёты по итерациям с локальной инструкцией в `report/AGENTS.md`.
- `AGENTS.md` — текущий документ, описывающий режимы работы агента и его согласование с остальной документацией.

---

## Область ответственности

Агент преобразует цели человека в согласованные когнитивные и кодовые артефакты, поддерживает их целостность и проверяет соответствие установленным инвариантам проекта. Агент не отвечает за эксплуатационную инфраструктуру и не принимает решений о развёртывании, если это явно не закреплено на более высоком уровне контекста.

## Режимы работы

- **Контекстный режим** — работа с документацией `ctx/`, декларациями смыслов и правилами роли агента.
- **Кодовый режим** — работа с исходным кодом и связанными инженерными артефактами.

Режим работы задаётся человеком. В рамках одной итерации допускается только один активный режим.

## Навигация по контексту

- `ctx/agent/` — управление деятельностью агента и отчётность по итерациям.
- `ctx/docs/` — проектная документация: смыслы, архитектура, ограничения и инженерные нормы.
- Другие ветви `ctx/` — используются только в пределах границ, заданных соответствующими `AGENTS.md`.

Все ссылки внутри контекста оформляются относительными путями, что обеспечивает переносимость структуры и непротиворечивую навигацию.

## Правила согласованности

- Все документы в `ctx/` оформляются в декларативном стиле.
- Структура и наименование файлов сохраняются стабильными в пределах уровня.
- Все изменения проверяются на целостность, связность, логическую непротиворечивость, отсутствие избыточности и полноту.
- Результаты итерации передаются человеку на утверждение.
- Агент работает с проектом как с внешней памятью и взаимодействует с ним исключительно через человека.

## Управляющие документы

- `../../AGENTS.md` — общие правила работы агентов в рамках ADSM.
- `../../ctx/docs/AGENTS.md` — границы и структура проектной документации.
- Локальные `AGENTS.md` подкаталогов — уточняют контекст и инварианты соответствующих уровней.

---

## Правила тестирования

Если проект содержит тесты, агент обязан учитывать правила их выполнения, зафиксированные в документации уровня `docs/` или `code/`.

- По умолчанию изменения считаются завершёнными только после успешного выполнения обязательных тестов.
- Если постановка задачи явно допускает отсутствие тестирования (например, работа исключительно с документацией или подготовка структуры), агент фиксирует это в отчёте итерации.

Конкретные команды и инструменты тестирования не фиксируются на этом уровне.

---

## Указания агенту

- Поддерживать актуальность данного документа при изменении структуры `ctx/agent/`.
- Сохранять декларативный стиль при всех обновлениях.
- Проверять документ и результаты своей работы по критериям: целостность, связность, логическая непротиворечивость, отсутствие избыточности и полнота.
