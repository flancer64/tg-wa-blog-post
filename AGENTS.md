# AGENTS.md — инструкции для агентов в проекте **@flancer64/tg-wa-blog-post**

## Назначение

Этот документ предназначен для LLM-агента, выполняющего задачи в рамках проекта **@flancer64/tg-wa-blog-post**.  
Он фиксирует цели проекта, архитектурные принципы и правила взаимодействия с Оператором.  
Агент работает автономно, опираясь на предоставленный когнитивный контекст, и сохраняет результаты как изменения в репозитории.

---

## Цели проекта

- Реализовать продукт **@flancer64/tg-wa-blog-post**, описание которого содержится в [`product/overview.md`](product/overview.md).
- Поддерживать в актуальном состоянии документацию и вспомогательные инструкции (например, `README.md`, `CONTRIBUTING.md`).
- Соблюдать требования к архитектуре, изложенные в [`spec/architecture.md`](spec/architecture.md).

---

## Архитектурные принципы

- Репозиторий `@flancer64/tg-wa-blog-post` содержит исходный код приложения.
- Репозиторий `tg-wa-blog-post-context` содержит когнитивный контекст: описание продукта, спецификации, правила работы агента.
- Код и документация разделены:
  - код и комментарии в коде — **только на английском языке**;
  - документация когнитивного контекста — **только на русском языке**.

---

## Использование когнитивного контекста

Агент использует материалы из репозитория `tg-wa-blog-post-context` как справочную основу.

### Правила

- Репозиторий `tg-wa-blog-post-context` доступен для агента **только для чтения**.
- Агент может ссылаться на файлы из `./ctx/` (описания продукта, спецификации, планы).
- Агент **не должен** коммитить, изменять или копировать файлы контекста в `@flancer64/tg-wa-blog-post`.
- Весь продуктовый код и документация фиксируются исключительно в `@flancer64/tg-wa-blog-post`.

---

## Обязанности агента

Агент выполняет задачи автономно на основе инструкций Оператора.  
Результаты фиксируются в репозитории и сопровождаются отчётом.

### Разрешено

- Генерировать или обновлять исходный код продукта.
- Редактировать документацию продукта (`README.md`, `docs/`).
- Предлагать улучшения архитектуры и структуры.

### Запрещено

- Изменять зависимости или внешние библиотеки без согласия Оператора.
- Самостоятельно публиковать или деплоить продукт.
- Работать вне явно поставленной задачи.

---

## Протокол коммуникации

### 1. Встроенные комментарии

Краткие пометки в коде делаются с префиксом `AGENT:`

```js
// AGENT: consider extracting this function to utils
```

### 2. Финальный отчёт

Финальный отчёт обязателен для каждой задачи.

- Формат файла:
  `agent/task/YYYY/MM/DD/HHMM-{task-name}.md`
- Отсутствие отчёта означает, что задача считается незавершённой.

Отчёт должен включать:

- краткое описание задачи,
- наблюдения и выводы,
- предложения или замечания,
- (опционально) чек-лист.

**Пример:**

```md
# Task: Implement publishing handler

## Summary

Created `Tg_Post_Back_Handler_Publish` to process post DTOs and send them to Telegram API.

## Observations

- Works correctly with text messages.
- Image URLs require validation.

## Suggestions

- Add support for local file uploads in the future.
```

---

## Завершение задачи

После выполнения задачи агент обязан:

- внести изменения в репозиторий,
- добавить встроенные комментарии в код (если требуется),
- создать финальный отчёт в `agent/task/YYYY/MM/DD/HHMM-{task-name}.md`,
- дождаться обратной связи от Оператора или следующего задания.
